// Generated by BUCKLESCRIPT VERSION 2.1.0, PLEASE EDIT WITH CARE
'use strict';

var Block                   = require("bs-platform/lib/js/block.js");
var Json_decode             = require("@glennsl/bs-json/lib/js/src/Json_decode.js");
var Caml_builtin_exceptions = require("bs-platform/lib/js/caml_builtin_exceptions.js");

function tile(json) {
  return /* record */[
          /* food */Json_decode.optional((function (param) {
                  return Json_decode.field("food", Json_decode.$$int, param);
                }), json),
          /* pheromone */Json_decode.optional((function (param) {
                  return Json_decode.field("pheromone", Json_decode.$$int, param);
                }), json)
        ];
}

function parse(json) {
  return /* record */[
          /* kind */Json_decode.field("kind", Json_decode.string, json),
          /* ants */Json_decode.field("ants", Json_decode.bool, json),
          /* tile */Json_decode.field("tile", tile, json)
        ];
}

function parseTile(json) {
  var data = parse(json);
  var match = data[/* tile */2][/* pheromone */1];
  var pheromone = match ? match[0] : 0;
  var match$1 = data[/* kind */0];
  if (match$1 === "land") {
    return /* Land */Block.__(0, [/* record */[
                /* ants */data[/* ants */1],
                /* pheromone */pheromone
              ]]);
  } else {
    throw [
          Caml_builtin_exceptions.match_failure,
          [
            "/home/wow/repos/ants/assets/src/domain/TileResponse.re",
            40,
            2
          ]
        ];
  }
}

exports.tile      = tile;
exports.parse     = parse;
exports.parseTile = parseTile;
/* No side effect */
